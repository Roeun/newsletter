<?phpheader('Content-Type: text/html; charset=utf-8');ini_set('display_errors', 'On');include_once 'config.php';if ( file_exists("languages/{$cfg['language']}.php") ) {  include_once "languages/{$cfg['language']}.php";} else {  die("Runtime error: couldn't load '{$cfg['language']}' language.");}// Current file name (without query string)$basename = array_shift(explode('?', basename($_SERVER['REQUEST_URI'])));include_once 'head.php';if ($basename != 'view.php') {  include_once 'menu.php';}/* begin database initialization */$conn_str = "mysql:host=" . $cfg['hostname'] .            ";port="      . ($cfg['port'] ? $cfg['port'] : '3306') .            ";dbname="    . $cfg['dbname'] .            ";charset="   . $cfg['charset'];$options = array(PDO::MYSQL_ATTR_INIT_COMMAND => "SET NAMES utf8");try {  $db = new PDO($conn_str, $cfg['username'], $cfg['password'], $options);} catch (PDOException $e) {  die("PDOException: " . $e->getMessage());}DBHandler::init($db);/* end database initialization *//* automatically resolve dependencies */function __autoload($classname) {  require_once $classname . ".php";}